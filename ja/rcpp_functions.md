#R ライクな関数

R の関数と類似した Rcpp の関数の一覧を示します。また、これらの関数に与えるベクトルに `NA` が含まれていないと保証できる場合には、`noNA()`を使って印をつけると Rcpp 関数が `NA` のチェックを行わなくなるので計算が速くなります。

```
NumericVector res = mean(noNA(v));
```

## ベクトル関係

|関数|説明|
|---|---|
|`head(v, n)`|ベクトル v の最初の要素から n 個のベクトルを返します。|
|`tail(v, n)`|ベクトル v の最後の要素から n 個のベクトルを返します。|
|`rev(v)`|ベクトル v の要素を逆順に並べたベクトルを返します。|
|`rep(x, n)`|ベクトルあるいはスカラー x を n 個つなげたベクトルを返します。|
|`rep_each(v, times)`|ベクトル v の要素を順に times 回ずつ繰り返したベクトルを返します。|
|`rep_len(v, n)`| 最終的にベクトルの長さが n になるまでベクトル v を繰り返したベクトルを返します。 |
|`seq(start, end)`|start から end までの連続した整数の数列をベクトルで返します。|
|`seq_along(v)`|1 からベクトル v の要素数までの連続した整数の数列をベクトルで返します。|
|`seq_len(n)`|1 から n までの連続した整数の数列をベクトルで返します。|
|`diff(v)`|ベクトル v の最後の要素を除いた各要素について `v[i+1] - v[i]` を計算したベクトルを返します。|

## 文字列

|関数|説明|
|---|---|
|`collapse(v)`|文字列ベクトル v の要素を結合した文字列 `String` を返します。|

## 値の検索

|関数|説明|
|---|---|
|`match(v, table)`|ベクトル v の各要素について、ベクトル table の１番目の要素と等しい場合には 1 、２番目の要素と等しい場合には 2 を要素とするベクトルを返します。|
|`self_match(v)`|match(v, table) の v と table に同じベクトルを渡した場合と同義です。|
|`which_max(v)`|ベクトル v の要素の最大値の要素番号を返します。|
|`which_min(v)`|ベクトル v の要素の最小値の要素番号を返します。|

## 重複の値

|関数|説明|
|---|---|
|`duplicated(v)`|ベクトル v の各要素の値が、その要素より前の要素に存在する場合には 1 を、そうでない場合には 0 を入れたベクトルを返します。|
|`unique(v)`|ベクトル v から要素の値の重複をなくしたベクトルを返します。|
|`sort_unique(v)`|unique()の結果をソートしたベクトルを返します。|

## 集合演算

|関数|説明|
|---|---|
|`setdiff( v1, v2)`|ベクトル v1 のユニークな(値の重複のない)要素から、ベクトル v2 のユニークな要素にある値を除いたベクトルを返します。|
|`setequal( v1, v2)`|ベクトル v1 のユニークな要素がベクトル v2 のユニークな要素と等しい場合には true を返します。|
|`intersect( v1, v2)`|ベクトル v1 のユニークな要素とベクトル v2 のユニークな要素の両方に含まれる要素をベクトルで返します。|
|`union_( v1, v2)`|ベクトル v1 とベクトル v2 の要素を合わせてから値の重複をなくしたベクトルを返します。|

## 最大値・最小値

|関数|説明|
|---|---|
|`min(v)`|ベクトル v の要素の最小値を返します。|
|`max(v)`|ベクトル v の要素の最大値を要素の型で返します。|
|`cummin(v)`|ベクトル v の各要素について、それ以前の要素の最小値を格納したベクトル返します。|
|`cummax(v)`|ベクトル v の各要素について、それ以前の要素の最大値を格納したベクトル返します。|
|`pmin(v1,v2)`|ベクトル v1 v2 の対応する要素を比較し、小さい方の要素を格納したベクトルを返します。|
|`pmax(v1,v2)`|ベクトル v1 v2 の対応する要素を比較し、大きい方の要素を格納したベクトルを返します。|
|`range(v)`|ベクトル v の最小値と最大値からなるベクトルを返します。|
|`clamp(min, v, max)`|ベクトル v の要素の min 未満の値を min に、max 超の値を max に置き換えたベクトルを返します。|


## 集計

|関数|説明|
|---|---|
|`sum(v)`|ベクトル v の要素の値の総和を返します。|
|`mean(v)`|ベクトル v の要素の値の平均値を返します。|
|`median(v)`|ベクトル v の要素の値の中央値を返します。|
|`sd(v)`|ベクトル v の要素の値の標準偏差を返します。|
|`var(v)`|ベクトル v の要素の値の分散を返します。|
|`cumsum(v)`|ベクトル v の各要素について、それ以前の要素の総和を格納したベクトル返します。|
|`cumprod(v)`|ベクトル v の各要素について、それ以前の要素の総積を格納したベクトル返します。|
|`table(v)`|ベクトル v のユニークな要素の値それぞれについて、値の等しい要素がいくつあるか集計した名前付き整数ベクトルを返します。|


## 端数処理

|関数|説明|
|---|---|
|`floor(v)`|ベクトル v の各要素について、その値より大きくない最大の整数を格納したベクトルを返します。|
|`ceil(v)`|ベクトル v の各要素について、その値より小さくない最大の整数を格納したベクトルを返します。|
|`ceiling(v)`|`ceil()` と同義です。|
|`round(v, digits)`|ベクトル v の各要素を有効桁数 digits で丸めたベクトルを返します。|
|`trunc(v)`|ベクトル v の各要素について、小数点以下を切り捨てたベクトルを返します。|


## 数学

|関数|説明|
|---|---|
|`sign(v)`|ベクトル v の各要素について、正なら1を負なら-1を格納したベクトルを返します。|
|`abs(v)`|ベクトル v の各要素の絶対値を格納したベクトルを返します。|
|`pow(v, n)`|ベクトル v の各要素を n 乗したベクトルを返します。|
|`sqrt(v)`|ベクトル v の各要素の平方根をとったベクトルを返します。|
|`exp(v)`|ネイピア数 e をベクトル v の各要素の値でべき乗したベクトルを返します。|
|`expm1(v)`|`exp(v) - 1` と同義です。|
|`log(v)`|ベクトル v の各要素の自然対数をとったベクトルを返します。|
|`log10(v)`|ベクトル v の各要素の常用対数をとったベクトルを返します。|
|`log1p(v)`|`log(v+1)` と同義です。|
|`sin(v)`|ベクトル v の各要素のサインをとったベクトルを返します。|
|`sinh(v)`|ベクトル v の各要素のハイパボリックサインをとったベクトルを返します。|
|`cos(v)`|ベクトル v の各要素のコサインをとったベクトルを返します。|
|`cosh(v)`|ベクトル v の各要素のハイパボリックコサインをとったベクトルを返します。|
|`tan(v)`|ベクトル v の各要素のタンジェントをとったベクトルを返します。|
|`tanh(v)`|ベクトル v の各要素のハイパボリックタンジェントをとったベクトルを返します。|
|`acos(v)`|ベクトル v の各要素のアークコサインをとったベクトルを返します。|
|`asin(v)`|ベクトル v の各要素のアークサインをとったベクトルを返します。|
|`atan(v)`|ベクトル v の各要素のアークタンジェントをとったベクトルを返します。|
|`gamma(v)`|ベクトル v の各要素をガンマ関数で変換したベクトルを返します。|
|`lgamma(v)`|`log(gamma(v))` と同義です。|
|`digamma(v)`|ベクトル v の各要素を lgamma() の一階微分関数で変換したベクトルを返します。|
|`trigamma(v)`|ベクトル v の各要素を lgamma() の二階微分関数で変換したベクトルを返します。|
|`tetragamma(v)`|ベクトル v の各要素を lgamma() の三階微分関数で変換したベクトルを返します。|
|`pentagamma(v)`|ベクトル v の各要素を lgamma() の四階微分関数で変換したベクトルを返します。|
|`psigamma(v, deriv)`|ベクトル v の各要素を digamma(v) の deriv 回微分関数で変換したベクトルを返します。|
|`factrial(v)`|ベクトル v の各要素の階乗をとったベクトルを返します。|
|`lfactorial(v)`|`log(factrial(v))` と同義です。|
|`choose(vn, vk)`|実数ベクトル vn 整数ベクトル vk の対応する各要素を用いて二項係数を計算したベクトルを返します。|
|`lchoose(vn, vk)`|`log(choose(vn, vk))` と同義です。|
|`beta(va, vb)`|ベクトル va, vb の対応する各要素を用いてベータ関数の値を計算したベクトルを用います。|
|`lbeta(va, vb)`|`log(beta(va, vb))` と同義です。|


## 論理

|関数|説明|
|---|---|
|`all(v)`|論理ベクトル v を受け取り、全ての要素が `TRUE` の時、`TRUE` を返します。|
|`any(v)`|論理ベクトル v を受け取り、いずれかのの要素が `TRUE` の時、TRUE を返します。|
|`is_true(x)`|`all()`, `any()` の返値 x を受け取り `TRUE` の場合には `true` を返します。|
|`is_false(x)`|`all()`, `any()` の返値 x を受け取り `FALSE` の場合には `true` を返します。|
|`is_na(x)`|`all()`, `any()` の返値 x を受け取り `NA` の場合には `true` を返します。|
|`ifelse(v, x1, x2)`|論理ベクトル v を受け取り、v の要素が `TRUE` の時には x1 の対応する要素を, `FALSE` の時には x2 の対応する要素を格納したベクトルを返します。x1, x2 はベクトルでもスカラーでも良いですが、ベクトルの長さは v と一致している必要があります。|


## NA Inf NaN

|関数|説明|
|---|---|
|`na_omit(v)`|ベクトル v から `NA`を削除したベクトルを返します。|
|`is.finite(v)`|ベクトル v の各要素が `Inf` または -Inf または NA ではない場合に `TRUE` を格納した論理ベクトルを返します。|
|`is_infinite(v)`|ベクトル v の各要素が `Inf` または `-Inf` である場合に `TRUE` を格納した論理ベクトルを返します。|
|`is_na(v)`|ベクトル v の各要素が `NA` または `NaN` である場合に `TRUE` を格納した論理ベクトルを返します。|
|`is_nan(v)`|ベクトル v の各要素が `NaN` である場合に `TRUE` を格納した論理ベクトルを返します。|

## apply 関数

|関数|説明|
|---|---|
|`lapply(x, fun)`|オブジェクト（`Vector`, `DataFrame`, `List`）x の各要素に対して関数 fun を適用した結果を List で返します。|
|`sapply(x, fun)`|オブジェクト（`Vector`, `DataFrame`, `List`）x の各要素に対して関数 fun を適用した結果を Vector で返します。|
|`mapply(x1, x2, fun2)`| オブジェクト x1, x2 の各要素に対して関数 fun2 を適用した結果を返します。fun2 は2個の引数を受け取る関数です。|
|`mapply(x1, x2, x3, fun3)`|オブジェクト x1, x2, x3 の各要素に対して関数 fun3 を適用した結果を返します。fun3 は３個の引数を受け取る関数です。|

## cbind 関数

|関数|説明|
|---|---|
|`cbind(v1,v2,...)`|引数として渡したベクトルを列とした行列・データフレームを作成します。渡せる引数の数は50個までです。|



 




